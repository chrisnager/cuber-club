{"version":3,"file":"static/webpack/static/development/pages/dj.js.113071d841000277edac.hot-update.js","sources":["webpack:///./components/main/index.tsx"],"sourcesContent":["import { useState } from 'react'\nimport Giiker from '../../scripts/giiker'\nimport cubeSounds from '../../constants/cube-sounds'\nimport moveMap from '../../constants/move-map'\nimport Player from '../player'\n\nexport default function Main() {\n  const [isEnabled, setsIsEnabled] = useState(true)\n  const [label, setLabel] = useState('Connect cube')\n  const [sequence, setSequence] = useState([])\n  const [isHighlighted, setIsHighlighted] = useState(null)\n\n  const playSound = move => {\n    cubeSounds[moveMap[move]].sound.play()\n  }\n\n  const setAndRemoveHighlight = move => {\n    setIsHighlighted(move)\n\n    setTimeout(() => {\n      setIsHighlighted(null)\n    }, 500)\n  }\n\n  const handleConnectClick = async () => {\n    setsIsEnabled(false)\n    const giiker = await Giiker.connect()\n    setLabel('Connected')\n\n    giiker.on('move', move => {\n      // TODO: Update URL to include sequence\n      // window.location.href += sequence\n\n      setSequence([...sequence, move.notation])\n      setAndRemoveHighlight(move.notation)\n      playSound(move.notation)\n    })\n  }\n\n  return (\n    <main>\n      <div>\n        <button onClick={handleConnectClick} disabled={!isEnabled} className=\"connect\">\n          {label}\n        </button>\n\n        <Player {...{ isHighlighted }} />\n\n        <h2>Your moves</h2>\n        <p>Hold cube with white on top and green facing you.</p>\n        <div className=\"sequence\">\n          {sequence.map(move => (\n            <span key={`sequence:${move}`} className={`${move === isHighlighted ? 'highlight' : ''}`}>\n              {move}\n            </span>\n          ))}\n        </div>\n\n        {/* <h2>Sounds</h2>\n        <ul className=\"sounds\">\n          {Object.keys(moveMap).map(moveName => (\n            <li key={moveName} className={`${moveName.replace(\"'\", '-')} ${moveName === isHighlighted ? 'highlight' : ''}`}>\n              <b>{moveName}</b>: {moveMap[moveName]}\n            </li>\n          ))}\n        </ul> */}\n      </div>\n    </main>\n  )\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAcA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAkBA;;;;A","sourceRoot":""}